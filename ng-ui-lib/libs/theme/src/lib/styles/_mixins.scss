@import 'variables';

// Grid mixins

// Grid container mixin
@mixin grid-container {
  display: table;
  width: 100%;
  border: $grid-border-width solid $grid-border-color;
  border-radius: $grid-border-radius;
  font-family: $grid-font-family;
  font-size: $grid-font-size;
  line-height: $grid-line-height;
  background: $grid-background;
}

// Grid header mixin
@mixin grid-header {
  display: table-header-group;
  background: $grid-header-background;
  border-bottom: $grid-border-width solid $grid-border-color;
  
  th {
    display: table-cell;
    padding: $grid-header-padding;
    text-align: left;
    font-weight: $grid-header-font-weight;
    color: $grid-header-text-color;
    border-right: $grid-border-width solid $grid-border-color;
    height: $grid-header-height;
    vertical-align: middle;
    
    &:last-child {
      border-right: none;
    }
  }
}

// Grid body mixin
@mixin grid-body {
  display: table-row-group;
}

// Grid row mixin
@mixin grid-row {
  display: table-row;
  transition: background-color $grid-transition-duration $grid-transition-timing;
  
  &:hover {
    background-color: $grid-row-hover-background;
  }
  
  &.selected {
    background-color: $grid-row-selected-background;
  }
  
  &.even {
    background-color: $grid-row-even-background;
  }
  
  &.odd {
    background-color: $grid-row-odd-background;
  }
  
  td {
    display: table-cell;
    padding: $grid-cell-padding;
    border-right: $grid-border-width solid $grid-border-color;
    height: $grid-row-height;
    vertical-align: middle;
    
    &:last-child {
      border-right: none;
    }
  }
}

// Pinned column mixin
@mixin pinned-column($side: left) {
  position: sticky;
  z-index: $grid-z-index-pinned;
  
  @if $side == left {
    left: 0;
  } @else if $side == right {
    right: 0;
  }
  
  background: inherit;
  box-shadow: 0 0 4px rgba(0, 0, 0, 0.1);
}

// Sortable column mixin
@mixin sortable-column {
  cursor: pointer;
  user-select: none;
  
  &:hover {
    background-color: darken($grid-header-background, 5%);
  }
  
  .sort-indicator {
    margin-left: 8px;
    font-size: 12px;
    opacity: 0.6;
  }
  
  &.sorted-asc,
  &.sorted-desc {
    .sort-indicator {
      opacity: 1;
    }
  }
}

// Resizable column mixin
@mixin resizable-column {
  position: relative;
  
  .resize-handle {
    position: absolute;
    top: 0;
    right: 0;
    width: 4px;
    height: 100%;
    cursor: col-resize;
    background: transparent;
    
    &:hover {
      background: $grid-primary-color;
      opacity: 0.3;
    }
  }
}

// Loading overlay mixin
@mixin loading-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: $grid-z-index-tooltip;
}

// Responsive grid mixin
@mixin responsive-grid {
  @media (max-width: $grid-breakpoint-md) {
    font-size: 12px;
    
    th, td {
      padding: 4px 8px;
    }
    
    .resize-handle {
      width: 8px;
    }
  }
}