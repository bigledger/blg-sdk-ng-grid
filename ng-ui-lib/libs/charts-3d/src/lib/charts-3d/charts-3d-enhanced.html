<div class="chart-3d-container" #chartContainer data-chart-3d data-chart-export-target>
  <!-- Export Toolbar -->
  <div class="chart-toolbar" *ngIf="enableExport">
    <ng-ui-chart-export
      [chartElement]="chartElement"
      [chartData]="chartData"
      [chartConfig]="chartConfig"
      [availableFormats]="exportFormats"
      [showQuickButtons]="true"
      (exportComplete)="onExportComplete($event)"
      (exportError)="onExportError($event)">
    </ng-ui-chart-export>
  </div>

  <!-- Chart Content -->
  <div class="chart-content">
    <ng-container [ngSwitch]="config.type">
      <ng-ui-bar-chart-3d
        *ngSwitchCase="'3d-bar'"
        [config]="config"
        [data]="data"
        [showStats]="showStats"
        (chartClick)="onChartClick($event)"
        (chartHover)="onChartHover($event)"
        (chartSelect)="onChartSelect($event)"
        (initialized)="onInitialized()"
        (error)="onError($event)"
      ></ng-ui-bar-chart-3d>
      
      <ng-ui-scatter-chart-3d
        *ngSwitchCase="'3d-scatter'"
        [config]="config"
        [data]="data"
        [showStats]="showStats"
        (chartClick)="onChartClick($event)"
        (chartHover)="onChartHover($event)"
        (chartSelect)="onChartSelect($event)"
        (initialized)="onInitialized()"
        (error)="onError($event)"
      ></ng-ui-scatter-chart-3d>
      
      <ng-ui-globe-chart-3d
        *ngSwitchCase="'3d-globe'"
        [config]="config"
        [data]="data"
        [showStats]="showStats"
        (chartClick)="onChartClick($event)"
        (chartHover)="onChartHover($event)"
        (chartSelect)="onChartSelect($event)"
        (initialized)="onInitialized()"
        (error)="onError($event)"
      ></ng-ui-globe-chart-3d>
      
      <div *ngSwitchDefault class="chart-3d-error">
        <span>Unsupported chart type: {{ config.type }}</span>
      </div>
    </ng-container>
  </div>
</div>